# 25년 9월 3일


---

# Email 인증 시스템 

## Backend 개발

### 1. 회원 관련 엔터티 및 리포지토리 생성
- User 엔터티 설계 및 JPA 리포지토리 구성
- 이메일을 고유키로 하는 회원 테이블 구조 학습
- Spring Data JPA의 기본 CRUD 메서드 활용

### 2. 이메일 인증 발송 로직
- JavaMailSender를 활용한 SMTP 메일 발송 구현
- 6자리 랜덤 인증코드 생성 알고리즘
- 메일 템플릿 작성 및 HTML 형태로 인증코드 전송

### 3. 이메일 인증코드 데이터베이스 처리
- 인증코드 테이블 설계 (코드, 이메일, 만료시간, 사용여부)
- Redis 또는 MySQL을 활용한 임시 데이터 저장
- 인증코드 만료시간 설정 (일반적으로 3-5분)

### 4. 인증코드 검증 API
- POST 요청으로 이메일과 인증코드를 받아 검증
- 만료시간 체크 및 사용 여부 확인
- 검증 성공 시 해당 인증코드 비활성화 처리

### 5. 인증코드 검증시 추가처리
- 인증 실패 횟수 제한 로직 구현
- 재발송 요청 시 기존 코드 무효화 및 새 코드 생성
- 인증 완료 후 회원가입 프로세스 연동

## Frontend 개발

### 1. API 연결정보 설정파일 생성
- axios 기본 설정 및 baseURL 구성
- 인터셉터를 활용한 공통 에러 처리
- 환경별 API 엔드포인트 분리 (.env 파일 활용)

### 2. 인증 홈 레이아웃 생성
- 단계별 인증 프로세스를 위한 컨테이너 컴포넌트
- 반응형 디자인 적용 및 접근성 고려
- 일관된 UI/UX를 위한 디자인 시스템 적용

### 3. 인증관련 컴포넌트 생성
- 이메일 입력 컴포넌트와 인증코드 입력 컴포넌트 분리
- 재사용 가능한 Input, Button 컴포넌트 설계
- Props 타입 정의 및 컴포넌트 인터페이스 설계

### 4. 이메일 패턴 검증
- 정규표현식을 활용한 이메일 형식 유효성 검사
- 실시간 검증 피드백으로 사용자 경험 향상
- 에러 메시지 표시 및 상태 관리

### 5. 이메일 중복 검증
- 서버 API 호출을 통한 이메일 중복 여부 확인
- 사용자 입력 완료 후 즉시 검증 실행
- 중복 시 명확한 안내 메시지 제공

### 6. 이메일 검증 디바운스 처리 (lodash 사용)
- lodash.debounce를 활용한 API 호출 최적화
- 500ms 지연을 통해 불필요한 서버 요청 방지
- 사용자 타이핑 중 과도한 검증 요청 차단

### 7. 인증번호 입력페이지로 넘어가기
- 이메일 검증 완료 후 다음 단계로 자동 이동
- 페이지 전환 시 상태값 전달 및 유지
- 뒤로가기 방지 및 단계별 접근 제어

### 8. 스텝이동시 프로그레스바 피드백
- 현재 진행 단계를 시각적으로 표시
- CSS transition을 활용한 부드러운 애니메이션
- 완료된 단계와 현재 단계 구분 표시

### 9. 다중 ref 바인딩
- 6자리 인증코드 입력을 위한 개별 input 관리
- useRef 배열을 활용한 포커스 이동 자동화
- 숫자 입력 시 다음 필드로 자동 이동 구현

### 10. 입력한 인증코드 상태로 관리하기
- useState를 활용한 6자리 코드 배열 상태 관리
- 각 자리수별 개별 상태 업데이트
- 코드 완성 시 자동 검증 트리거

### 11. 인증 코드 서버 발송 처리
- 이메일 발송 API 호출 및 로딩 상태 관리
- 발송 성공/실패에 따른 적절한 피드백 제공
- 에러 핸들링 및 재시도 로직 구현

### 12. 인증 코드 타이머
- 3분 카운트다운 타이머 구현
- setInterval을 활용한 1초마다 시간 감소
- 타이머 만료 시 재발송 버튼 활성화 및 입력 필드 비활성화

## 주요 학습 포인트

### 사용자 경험 개선
- 실시간 검증을 통한 즉각적인 피드백
- 디바운스를 활용한 성능 최적화
- 직관적인 UI/UX 설계

### 보안 고려사항
- 인증코드 만료시간 설정
- 재발송 제한 및 무차별 대입 공격 방지
- 민감한 정보의 안전한 전송

### 상태 관리
- 복잡한 폼 상태의 효율적인 관리
- 컴포넌트 간 데이터 전달 및 동기화
- 에러 상태 및 로딩 상태 처리

### API 설계 원칙
- RESTful API 엔드포인트 설계
- 적절한 HTTP 상태코드 활용
- 클라이언트-서버 간 명확한 통신 규약
