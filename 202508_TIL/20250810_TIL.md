# 25년 8월 10일


---


# Spring Boot 테스트 환경에서 DB 자동 연결 방지, HTML, CSS, JS 분리 및 정적 리소스 관리, 역할 기반 게시판 접근 제어 설계, DDL 최종본 검토 및 오타 수정

## 1. Spring Boot 테스트 환경에서 DB 자동 연결 방지
- **문제**: 테스트 환경에서 실제 DB 연결을 시도하다가 예외 발생
- **해결 방법**:
  - `@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class })` 적용
  - 테스트 프로파일(`application-test.yml`)에서만 해당 exclude 설정을 적용하는 방식 고려
  - 통합 테스트 시 `@AutoConfigureTestDatabase(replace = NONE)` 또는 Testcontainers 사용 가능
- **배운 점**:
  - Spring Boot 자동 구성(auto-configuration) 제외 설정을 통해 불필요한 Bean 생성 방지 가능
  - 프로파일 별 설정을 분리하면 테스트/개발/운영 환경 충돌을 줄일 수 있음

---

## 2. HTML, CSS, JS 분리 및 정적 리소스 관리
- **기존 문제**: `templates` 내 HTML 파일에 inline JS/CSS가 혼합되어 유지보수성 저하
- **개선 방법**:
  - JS → `src/main/resources/static/js`
  - CSS → `src/main/resources/static/css`
  - HTML에서는 `th:src`, `th:href`로 정적 경로(`/js/**`, `/css/**`) 지정
- **배운 점**:
  - 리소스를 정적 디렉토리로 분리하면 코드 가독성 및 재사용성이 향상됨
  - 경로 관리와 브라우저 캐싱 정책 설정의 중요성

---

## 3. 역할 기반 게시판 접근 제어 설계
- **상황**:
  - 호스트와 참여자가 동일 게시판을 사용 중이나, 권한과 용도가 다름
- **개선 방향**:
  - URL과 권한(ROLE_HOST, ROLE_PARTICIPANT)로 게시판 분리
  - 메뉴/네비게이션 조건부 렌더링으로 접근 가능 기능 제한
- **배운 점**:
  - Spring Security 권한 매핑을 URL 구조와 맞추면 유지보수가 쉬움
  - 접근 제어 로직은 백엔드와 프론트엔드 모두에서 고려해야 함

---

## 4. DDL 최종본 검토 및 오타 수정
- **작업 내용**:
  - 최종 스키마 검토 및 컬럼명, 제약 조건 오타 수정
  - 추후 Flyway로 버전 관리 시작 예정
- **배운 점**:
  - DB 스키마 변경 이력 관리는 필수(Flyway, Liquibase 등)
  - 초기 설계 단계에서 컬럼명/제약조건을 표준화하면 수정 비용 절감
