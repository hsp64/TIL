# 25년 8월 13일


---

# UI 및 API 구현과 JWT 기반 인증·보안 설정


## 1. 여행 등록 및 관리 기능 추가

* **여행 목록 조회 및 검색**

  * `TripSearchRequestDto`, `TripStatusInfo`, `TripListItemDto` DTO 추가
* **여행 등록/수정 페이지**

  * `trip-form.html`, `trip-form.js` 구현
* **여행 목록 페이지 확장**

  * `trip-list.js` 개선, 상태 필터 기능 적용
* **보안 설정 업데이트**

  * `/trips/**`, `/dashboard` 경로 접근 허용 (`SecurityConfig` 수정)
* **라우트 구성 및 엔드포인트 추가**

  * `routes-config.js`, `PageController` 수정

> 여행 등록/수정 및 목록 관리 UI 및 API 기능 전반을 개선함.

---

## 2. JWT 인증 필터 및 여행 생성 API 개선

* **JwtAuthenticationFilter**

  * 주석 보완 및 가독성 향상
* **TripController**

  * `@AuthenticationPrincipal` 적용하여 스프링 시큐리티 인증 사용자 정보 처리
  * `username` 매개변수 추가, 로그 및 서비스 호출에 사용자 정보 활용
* **환경 설정 변경**

  * `application.yml`에서 DB URL 변경 (`toy_project` → `toy_project_clone`)

---

## 3. JWT 인증 필터 및 보안 설정 수정

* **JwtAuthenticationFilter**

  * 사용자 인증 시 빈 권한 리스트(`ArrayList`) 설정
* **SecurityConfig**

  * 커스텀 필터 등록 코드 위치 조정 및 정리 (가독성 향상)

---

## 4. JWT 인증 필터 추가 및 보안 설정 강화

* **JwtAuthenticationFilter** 추가

  * 요청 시 JWT 토큰 인증 처리
  * 토큰 유효성 검증 및 사용자 인증 정보 설정
* **JwtProvider**

  * `validateToken`, `getUsernameFromToken` 메서드 구현
* **SecurityConfig**

  * `JwtAuthenticationFilter` 등록 ( `UsernamePasswordAuthenticationFilter` 이전 실행)

---

## 5. 접근 제어 설정 추가 (SecurityConfig)

* 공개 경로: `/`, `/login`, `/signup`, 정적 리소스, 인증 API 허용
* `/api/**` 및 기타 경로: 인증 필수
* 기본 인증(`formLogin`, `httpBasic`) 비활성화 유지

---

## 6. 여행 생성 서비스 및 API 구현

* **TripService**

  * `createTrip` 메서드 구현
  * 사용자 검증 및 예외 처리 (`BusinessException`) 적용
  * 여행 엔터티 생성 및 JPA 저장
* **TripController**

  * `POST /api/trips` API 추가
  * 요청 데이터 유효성 검사 및 `ApiResponse` 적용
* **TripRequest DTO**

  * 제목, 설명, 기간, 상태, 목적지, 예산 필드 포함
  * 유효성 검증 어노테이션 설정
