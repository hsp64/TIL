## 2025년 6월 12일

---

# 타이머와 인터벌

## 타이머 함수 개요

- JavaScript에서는 시간 지연 또는 주기적인 작업 수행을 위해 타이머 함수를 사용할 수 있다.
- 이를 이해하기 위해 먼저 JavaScript의 비동기 실행방식과 타이머 함수의 필요성에 대해 알아야한다.

## JavaScript의 비동기 함수 이해하기

### 동기(Synchronous)와 비동기(Asynchronous)

- 동기: 코드가 순차적으로 실행되며 이전 코드가 완료되어야 다음코드가 실행된다.
      - 예를 들어 console.log("A"); console.log("B");는 항상 "A"가 출력된 후 "B"가 출력된다.

- 비동기: 코드가 즉시 실행되지 않고 일정 시간이 지난 후에 실해오디거나 특정 조건이 만족될 때 실행된다.
      - JavaScript의 setTimeout과 같은 타이머 함수는 비동기 함수의 한 예이다.

- JavaSciprt는 싱글 스레드 언어로, 한 번에 하나의 작업만 수행할 수 있지만 비동기 처리를 통해 작업을 지연시키거나 동시에 여러 작업을 처리하는 것처럼 동작할 수 있다.

### 비동기 함수의 역할

- 비동기 함수는 작업을 지연시키거나, 대기 시간이 긴 작업이 완료될 때까지 프로그램이 멈추지 않고 달느 작업을 계속 수행할 수 있도록 도와준다.
- 예를 들어 타이머를 사용해 일정 시간이 지나면 특정 동작을 수행하게 설정할 수 있다.

## 타이머 함수의 필요성과 용도

1. 지연된 작업 수행
- 버튼을 클릭한 후 일정 시간 후에 메시지를 표시하거나 애니메이션을 일정시간 후에 시작할 때 사용할 수 있다.
- 이를 위해 setTimeout 함수를 사용한다
   
2. 주기적인 작업 반복
- 시계 애플리케이션처럼 일정 시간마다 화면을 업데이트하거나 실시간 데이터(주식 시세, 날씨 정보)를 주기적으로 받아와야 할 때 사용한다.
- 이를 위해 setInterval 함수를 사용한다.

3. UI 업데이트
- 모달 팝업을 몇 초 후에 자동으로 닫거나 알림 메시지를 일정 시간 후에 사라지게 할 때 타이머를 사용할 수 있다.

## setTimeout 함수

- JavaScript에서 특정 시간 이후에 한번만 실행되는 작업을 예약하는 데 사용된다.
- 이 함수를 사용하면 원하는 시간(밀리초 단위) 동안 지연된 후 함수를 호출할 수 있다.

## setTimeout의 기본 사용

```js
setTimeout(함수, 지연시간);
```
- 함수: 지연 시간이 지난 후 실행할 함수이다.
- 지연 시간: 함수를 지연시킬 시간(밀리초 단위)이다. 1초는 1000밀리초입니다.

## 지연시간 설정 및 함수 호출
- setTimeout을 통해 함수를 호출할 때 지연 시간을 설정할 수 있다. 지연 시간이 0이면 즉시 실행되지만 브라우저에 따라 실제 실행까지 약간의 지연이 있을 수 있다.

```js
function showMessage() {
  console.log("3초 후에 실행되었습니다.");
}

// 3초(3000ms) 후에 showMessage 함수를 호출합니다.
setTimeout(showMessage, 3000);

```
 - 위 코드에서 showMessage 함수가 3초 후에 실행된다. 이처럼 setTimeout을 사용하면 특정 시간 동안 기다렸다가 함수를 호출할 수 있다.

## clearTimeou을 통한 타이머 취소

- setTimeou은 타이머 ID를 반환하는데 이 ID를 사용하여 clearTimeout을 통해 예약된 타이머를 취소할 수 있다.
- 이는 타이머를 실행하기 전에 조건에 따라 실행을 막고자 할 때 유용하다.

```js
// 5초 후에 실행될 타이머 설정
const timerId = setTimeout(() => {
  console.log("이 메시지는 출력되지 않습니다.");
}, 5000);

// 타이머 취소
clearTimeout(timerId);
```
 - 위 코드에서 clearTimeout(timerId); 는 setTimeout으로 설정된 타이머를 취소하여 5초후에 실행될 예정이었던 함수가 호출되지 않도록 한다.

## 요약

- setTimeout은 특정 시간이 지난 후 한번만 실행되는 작업을 예약하는 함수이다.
- 타이머 ID를 통해 타이머를 취소할 수 있으며 이를 위해 clearTimeout 함수를 사용한다.
- 일회성 지연 작업이나 특정 조건에 따라 실행을 취소할 작업이 있을 때 유용하게 사용된다.

---

## setInterval 함수

- setInterval 함수는 JavaScript에서 지정한 시간 간격마다 반복적으로 실행되는 작업을 예약하는 데 사용된다.
- setInterval은 반복적으로 실행해야 하는 작업에 적합하다.

## setInterval의 기본 사용법

```js
setINterval(함수, 간격시간(;
```
- 함수: 반복 실행할 함수이다.
- 간격 시간: 함수를 반복 실행할 시간 간격이다. setTimeout 과 구조는 같다

## 반복 간격 설정 및 주기적인 작업 실행

- setINterval을 통해 주기적으로 반복해야 하는 작업을 설정할 수 있다. 이를 활용하여 타이머, 애니메이션, 시계 업데이트 등의 기능을 구현할 수 있다.

```js
function showTime() {
  const now = new Date();
  console.log(`현재 시간: ${now.tolocaleTimeString()}`);
}

// 1초마다 현재 시간을 출력
setInterval(showTime, 1000);
```
- 위 코드에서는 showTime 함수가 매초마다 호출되어 현재 시간이 콘솔에 출력된다.
- 이를 통해 현재 시간을 주기적으로 업데이트하는 효과를 볼 수 있다.

## clearInterval을 통한 반복 취소

- setInterval은 타이머 ID를 사용하여 clearInterval을 호출하면 반복 예약을 취소 할 수 있다.
- 이를 통해 필요 없는 반복 작업을 중간에 중단할 수 있다.

```js
// 1초마다 메시지르 출력하는 타이머 설정
const intervalId = setInterval(() => {
  console.log("이 메시지는 1초마다 출력된다.");
], 1000);

//5초 후에 반복 취소
setTimeout(() => {
  clearInterva(intervalId);
  console.log("반복이 취소되었습니다.");
}, 5000);

```
  - 위 코드에서는 clearINterval(intervalID); 를 사용하여 5초 후에 반복을 취소한다.
  - 결과적으로 "이 메시지는 1초마다 출력됩니다."가 5초 동안 출력되고 이후에는 더이상 출력되지 않는다.

## 요약

- setInterval 은 특정 시간 간격마다 반복적으로 실행할 학업을 예약하는 함수이다.
- 타이머 ID를 반환하며 clearInterval을 사용해 반복을 중단할 수 있다.
- 주기적인 작업이나 타이머 기반 애니메이션에 적합하며 필요에 따라 반복을 중단할 수 있다.

##  장점과 단점

**setTimeout**
- 장점:
    - 단순한 일회성 작업에 적합하며 특정 시간이 지난 후에만 실행되므로 이벤트 핸들링 등 지연된 작업에 사용하기 좋다.
    - 타이머가 한번만 실행되므로 실행 후 자동으로 해제된다.
 
- 단점:
    - 반복 실행에는 부적합하다. 반복 작업을 위해 여러 개의 setTimeout을 연속으로 설정하면 관리가 복잡해진다.

**setInterval**
- 장점:
    - 반복 작업에 적합하여 일정 시간마다 특정 작업을 실행해야 할 때 편리하다.
 
- 단점:
    - 타이머가 해제될 때까지 반복 실행되므로 불필요한 타이머가 남을 수 있다.
    - 네트워크 지연이나 코드 실해잉 오래 걸리면 각 호출이 겹쳐져 성능 문제가 발생할 수 있다.
    - 작업이 일정 간격에 맞춰 정확히 실행되기 어렵고 시간이 지남에 따라 지연이 누적될 수 있다.
 
